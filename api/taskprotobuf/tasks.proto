syntax = "proto3";

package taskprotobuf;
option go_package = "taskpb";

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";

// Task describe todo task
message Task {
  // Unique task identifier
  int64 id = 1;
  // title of the task
  string title = 2;
  // details description of the task
  string desc = 3;
  // remind time for todo task
  google.protobuf.Timestamp reminder = 4;
}

// Status describe status of performed action
message Status {
  int64 code = 1;
  string message = 2;
}

message CreateRequest {
  string title = 1;
  string desc = 2;
}

message CreateResponse { int64 id = 1; }

message ReadRequest { int64 id = 1; }

message ReadResponse { Task task = 1; }

message UpdateRequest { Task task = 1; }

message UpdateResponse { Status status = 1; }

message DeleteRequest { int64 id = 1; }

message DeleteResponse { Status status = 1; }

message ReadAllResponse { repeated Task task = 1; }

service TaskService {
  // Create creates new todo task
  rpc Create(CreateRequest) returns (CreateResponse);
  // Read todo task
  rpc Read(ReadRequest) returns (ReadResponse);
  // Update todo task
  rpc Update(UpdateRequest) returns (UpdateResponse);
  // Delete todo task
  rpc Delete(DeleteRequest) returns (DeleteResponse);
  // Read all todo tasks
  rpc ReadAll(google.protobuf.Empty) returns (ReadAllResponse);
}